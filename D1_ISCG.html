<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ISC2 Domain 1: Security Principles - Interactive Lesson</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: #333;
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            position: sticky;
            top: 10px;
            z-index: 100;
            transition: all 0.3s ease;
        }

        .header.scrolled {
            padding: 15px 30px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        .header.scrolled .module-selector {
            margin: 15px 0;
        }

        .header.scrolled .module-buttons {
            gap: 10px;
        }

        .header.scrolled .module-btn {
            padding: 12px 8px;
        }

        .header.scrolled .module-icon {
            font-size: 1.5em;
            margin-bottom: 5px;
        }

        .header.scrolled .module-title {
            font-size: 0.9em;
        }

        .header.scrolled .module-subtitle {
            display: none;
        }

        .header h1 {
            color: #1e3c72;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #45a049);
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 4px;
        }

        .module {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            opacity: 0;
            transform: translateY(50px);
            transition: all 0.6s ease;
        }

        .module.active {
            opacity: 1;
            transform: translateY(0);
        }

        .module h2 {
            color: #1e3c72;
            font-size: 2em;
            margin-bottom: 20px;
            border-bottom: 3px solid #4CAF50;
            padding-bottom: 10px;
        }

        .cia-triad {
            display: flex;
            justify-content: space-around;
            margin: 30px 0;
            flex-wrap: wrap;
            gap: 20px;
        }

        .cia-component {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            flex: 1;
            min-width: 250px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .cia-component:hover {
            transform: translateY(-10px) scale(1.05);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
        }

        .cia-component h3 {
            font-size: 1.5em;
            margin-bottom: 15px;
        }

        .quiz-container {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            border-left: 5px solid #4CAF50;
        }

        .quiz-question {
            font-size: 1.2em;
            margin-bottom: 20px;
            font-weight: bold;
            color: #1e3c72;
        }

        .quiz-options {
            display: grid;
            gap: 15px;
        }

        .quiz-option {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
        }

        .quiz-option:hover {
            border-color: #4CAF50;
            background: #f0f8ff;
            transform: translateX(10px);
        }

        .quiz-option.correct {
            background: #d4edda;
            border-color: #28a745;
            color: #155724;
        }

        .quiz-option.incorrect {
            background: #f8d7da;
            border-color: #dc3545;
            color: #721c24;
        }

        .controls-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .control-card {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            border-radius: 15px;
            padding: 25px;
            color: white;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .control-card:nth-child(2) {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
        }

        .control-card:nth-child(3) {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
        }

        .control-card:hover {
            transform: translateY(-5px) rotate(2deg);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
        }

        .ethics-canons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .canon {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .canon::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            transform: scale(0);
            transition: transform 0.6s ease;
        }

        .canon:hover::before {
            transform: scale(1);
        }

        .canon-number {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin: 30px 0;
            gap: 20px;
        }

        .nav-btn {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
            min-width: 120px;
        }

        .nav-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(76, 175, 80, 0.4);
        }

        .nav-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .interactive-demo {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
        }

        .demo-button {
            background: linear-gradient(135deg, #ff6b6b, #ee5a52);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            margin: 10px;
            transition: all 0.3s ease;
        }

        .demo-button:hover {
            transform: scale(1.05);
        }

        .feedback {
            margin-top: 20px;
            padding: 20px;
            border-radius: 10px;
            font-weight: bold;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .feedback.show {
            opacity: 1;
        }

        .feedback.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .feedback.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .module-selector {
            margin: 30px 0;
            text-align: center;
        }

        .module-selector h3 {
            color: #1e3c72;
            margin-bottom: 20px;
            font-size: 1.3em;
        }

        .module-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .module-btn {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border: 2px solid #dee2e6;
            border-radius: 15px;
            padding: 20px 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            font-family: inherit;
            position: relative;
            overflow: hidden;
        }

        .module-btn:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border-color: #4CAF50;
        }

        .module-btn.active {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            color: white;
            border-color: #4CAF50;
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
        }

        .module-btn.completed {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            border-color: #28a745;
        }

        .module-btn.completed::after {
            content: '✓';
            position: absolute;
            top: 5px;
            right: 10px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .module-icon {
            font-size: 2em;
            margin-bottom: 10px;
            display: block;
        }

        .module-title {
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 5px;
            display: block;
        }

        .module-subtitle {
            font-size: 0.9em;
            opacity: 0.8;
            display: block;
        }

        .module-btn.active .module-subtitle,
        .module-btn.completed .module-subtitle {
            opacity: 0.9;
        }
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            color: #333;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.3);
            display: none;
        }

        .completion-badge.show {
            display: block;
            animation: bounce 1s ease-in-out;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-20px); }
            60% { transform: translateY(-10px); }
        }

        .risk-matrix {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin: 20px 0;
            max-width: 500px;
        }

        .risk-cell {
            padding: 15px;
            text-align: center;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .risk-low { background: #d4edda; color: #155724; }
        .risk-medium { background: #fff3cd; color: #856404; }
        .risk-high { background: #f8d7da; color: #721c24; }

        @media (max-width: 768px) {
            .container { padding: 10px; }
            .header h1 { font-size: 2em; }
            .cia-triad { flex-direction: column; }
            .nav-buttons { flex-direction: column; }
            .module-buttons { 
                grid-template-columns: 1fr;
                gap: 10px;
            }
            .module-btn {
                padding: 15px 10px;
            }
            .module-title {
                font-size: 1em;
            }
            .module-subtitle {
                font-size: 0.85em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🛡️ ISC2 Domain 1: Security Principles</h1>
            <p>Interactive Learning Experience for Cybersecurity Professionals</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar"></div>
            </div>
            <p id="progressText">Module 1 of 5</p>
            
            <div class="module-selector">
                <h3>Jump to Module:</h3>
                <div class="module-buttons">
                    <button class="module-btn active" onclick="jumpToModule(1)">
                        <span class="module-icon">🔐</span>
                        <span class="module-title">Information Assurance</span>
                        <span class="module-subtitle">CIA Triad & Authentication</span>
                    </button>
                    <button class="module-btn" onclick="jumpToModule(2)">
                        <span class="module-icon">⚠️</span>
                        <span class="module-title">Risk Management</span>
                        <span class="module-subtitle">Assessment & Treatment</span>
                    </button>
                    <button class="module-btn" onclick="jumpToModule(3)">
                        <span class="module-icon">🛡️</span>
                        <span class="module-title">Security Controls</span>
                        <span class="module-subtitle">Technical, Admin, Physical</span>
                    </button>
                    <button class="module-btn" onclick="jumpToModule(4)">
                        <span class="module-icon">⚖️</span>
                        <span class="module-title">Code of Ethics</span>
                        <span class="module-subtitle">ISC2 Professional Standards</span>
                    </button>
                    <button class="module-btn" onclick="jumpToModule(5)">
                        <span class="module-icon">🏛️</span>
                        <span class="module-title">Governance</span>
                        <span class="module-subtitle">Policies & Compliance</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Module 1: Information Assurance Concepts -->
        <div class="module active" id="module1">
            <h2>🔐 Information Assurance Concepts</h2>
            <p>Understanding the foundational principles that protect information systems and data.</p>
            
            <div class="cia-triad">
                <div class="cia-component" onclick="showCIADetails('confidentiality')">
                    <h3>🔒 Confidentiality</h3>
                    <p>Ensuring information is accessible only to authorized individuals</p>
                </div>
                <div class="cia-component" onclick="showCIADetails('integrity')">
                    <h3>✅ Integrity</h3>
                    <p>Maintaining accuracy and completeness of data and systems</p>
                </div>
                <div class="cia-component" onclick="showCIADetails('availability')">
                    <h3>🔄 Availability</h3>
                    <p>Ensuring authorized users have reliable access to information</p>
                </div>
            </div>

            <div id="ciaDetails" style="display: none; margin-top: 20px; padding: 20px; background: #f0f8ff; border-radius: 10px;">
                <h4 id="ciaTitle"></h4>
                <p id="ciaDescription"></p>
                <ul id="ciaExamples"></ul>
            </div>

            <div class="quiz-container">
                <div class="quiz-question">Which authentication factor represents "something you are"?</div>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="checkAnswer(this, false)">📱 Mobile phone token</div>
                    <div class="quiz-option" onclick="checkAnswer(this, false)">🔑 Password</div>
                    <div class="quiz-option" onclick="checkAnswer(this, true)">👁️ Fingerprint scan</div>
                    <div class="quiz-option" onclick="checkAnswer(this, false)">💳 Smart card</div>
                </div>
                <div class="feedback" id="feedback1"></div>
            </div>
        </div>

        <!-- Module 2: Risk Management -->
        <div class="module" id="module2">
            <h2>⚠️ Risk Management Process</h2>
            <p>Systematic approach to identifying, assessing, and treating cybersecurity risks.</p>
            
            <div class="interactive-demo">
                <h3>Interactive Risk Assessment Demo</h3>
                <p>Click on a risk level to see examples:</p>
                <div class="risk-matrix">
                    <div class="risk-cell risk-low" onclick="showRiskExample('low')">LOW</div>
                    <div class="risk-cell risk-medium" onclick="showRiskExample('medium')">MEDIUM</div>
                    <div class="risk-cell risk-high" onclick="showRiskExample('high')">HIGH</div>
                    <div class="risk-cell risk-high" onclick="showRiskExample('critical')">CRITICAL</div>
                </div>
                <div id="riskExample" style="margin-top: 20px; padding: 15px; border-radius: 8px; display: none;"></div>
            </div>

            <div class="quiz-container">
                <div class="quiz-question">What are the four main risk treatment strategies?</div>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="checkAnswer(this, true)">Accept, Avoid, Mitigate, Transfer</div>
                    <div class="quiz-option" onclick="checkAnswer(this, false)">Identify, Assess, Monitor, Report</div>
                    <div class="quiz-option" onclick="checkAnswer(this, false)">Plan, Do, Check, Act</div>
                    <div class="quiz-option" onclick="checkAnswer(this, false)">Prevent, Detect, Respond, Recover</div>
                </div>
                <div class="feedback" id="feedback2"></div>
            </div>
        </div>

        <!-- Module 3: Security Controls -->
        <div class="module" id="module3">
            <h2>🛡️ Security Controls</h2>
            <p>Safeguards implemented to protect information systems and data.</p>
            
            <div class="controls-grid">
                <div class="control-card" onclick="showControlDetails('technical')">
                    <h3>💻 Technical Controls</h3>
                    <p>Technology-based security measures</p>
                    <small>Firewalls, Encryption, Antivirus</small>
                </div>
                <div class="control-card" onclick="showControlDetails('administrative')">
                    <h3>📋 Administrative Controls</h3>
                    <p>Policies and procedures</p>
                    <small>Training, Policies, Background checks</small>
                </div>
                <div class="control-card" onclick="showControlDetails('physical')">
                    <h3>🏢 Physical Controls</h3>
                    <p>Tangible security measures</p>
                    <small>Locks, Guards, Surveillance</small>
                </div>
            </div>

            <div id="controlDetails" style="display: none; margin-top: 20px; padding: 20px; background: #f0f8ff; border-radius: 10px;">
                <h4 id="controlTitle"></h4>
                <p id="controlDescription"></p>
                <ul id="controlExamples"></ul>
            </div>

            <div class="quiz-container">
                <div class="quiz-question">Which is an example of a physical security control?</div>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="checkAnswer(this, false)">🔐 Data encryption</div>
                    <div class="quiz-option" onclick="checkAnswer(this, true)">🚪 Access card readers</div>
                    <div class="quiz-option" onclick="checkAnswer(this, false)">📖 Security policy</div>
                    <div class="quiz-option" onclick="checkAnswer(this, false)">🔍 Intrusion detection system</div>
                </div>
                <div class="feedback" id="feedback3"></div>
            </div>
        </div>

        <!-- Module 4: ISC2 Code of Ethics -->
        <div class="module" id="module4">
            <h2>⚖️ ISC2 Code of Ethics</h2>
            <p>Professional ethical standards for cybersecurity practitioners.</p>
            
            <div class="ethics-canons">
                <div class="canon" onclick="showCanonDetails(1)">
                    <div class="canon-number">1</div>
                    <h4>Protect Society</h4>
                    <p>Safeguard the common good and infrastructure</p>
                </div>
                <div class="canon" onclick="showCanonDetails(2)">
                    <div class="canon-number">2</div>
                    <h4>Act with Honor</h4>
                    <p>Maintain integrity and legal compliance</p>
                </div>
                <div class="canon" onclick="showCanonDetails(3)">
                    <div class="canon-number">3</div>
                    <h4>Serve Competently</h4>
                    <p>Provide diligent and skilled service</p>
                </div>
                <div class="canon" onclick="showCanonDetails(4)">
                    <div class="canon-number">4</div>
                    <h4>Advance Profession</h4>
                    <p>Promote and protect the cybersecurity field</p>
                </div>
            </div>

            <div id="canonDetails" style="display: none; margin-top: 20px; padding: 20px; background: #f0f8ff; border-radius: 10px;">
                <h4 id="canonTitle"></h4>
                <p id="canonDescription"></p>
            </div>

            <div class="quiz-container">
                <div class="quiz-question">According to ISC2 Code of Ethics, what should you prioritize first?</div>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="checkAnswer(this, false)">Employer interests</div>
                    <div class="quiz-option" onclick="checkAnswer(this, true)">Society and public safety</div>
                    <div class="quiz-option" onclick="checkAnswer(this, false)">Personal career advancement</div>
                    <div class="quiz-option" onclick="checkAnswer(this, false)">Professional certifications</div>
                </div>
                <div class="feedback" id="feedback4"></div>
            </div>
        </div>

        <!-- Module 5: Governance Processes -->
        <div class="module" id="module5">
            <h2>🏛️ Governance Processes</h2>
            <p>Framework for managing cybersecurity through policies, procedures, and compliance.</p>
            
            <div class="interactive-demo">
                <h3>Governance Hierarchy</h3>
                <p>Click to explore the relationship between governance elements:</p>
                <button class="demo-button" onclick="showGovernanceLevel('laws')">Laws & Regulations</button>
                <button class="demo-button" onclick="showGovernanceLevel('policies')">Policies</button>
                <button class="demo-button" onclick="showGovernanceLevel('standards')">Standards</button>
                <button class="demo-button" onclick="showGovernanceLevel('procedures')">Procedures</button>
                <div id="governanceDetails" style="margin-top: 20px; padding: 15px; border-radius: 8px; display: none;"></div>
            </div>

            <div class="quiz-container">
                <div class="quiz-question">What is the primary purpose of cybersecurity governance?</div>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="checkAnswer(this, false)">To implement technical controls</div>
                    <div class="quiz-option" onclick="checkAnswer(this, true)">To provide oversight and strategic direction</div>
                    <div class="quiz-option" onclick="checkAnswer(this, false)">To conduct risk assessments</div>
                    <div class="quiz-option" onclick="checkAnswer(this, false)">To train employees</div>
                </div>
                <div class="feedback" id="feedback5"></div>
            </div>
        </div>

        <div class="completion-badge" id="completionBadge">
            <h2>🎉 Congratulations!</h2>
            <p>You have successfully completed the ISC2 Domain 1: Security Principles interactive lesson!</p>
            <p>You're ready to advance your cybersecurity knowledge.</p>
        </div>

        <div class="nav-buttons">
            <button class="nav-btn" id="prevBtn" onclick="previousModule()" disabled>← Previous</button>
            <button class="nav-btn" id="nextBtn" onclick="nextModule()">Next →</button>
        </div>
    </div>

    <script>
        let currentModule = 1;
        const totalModules = 5;
        let moduleProgress = {};

        // Initialize progress tracking
        for (let i = 1; i <= totalModules; i++) {
            moduleProgress[i] = false;
        }

        // Jump to specific module
        function jumpToModule(moduleNum) {
            showModule(moduleNum);
            updateModuleButtons();
            
            // Smooth scroll to the selected module with offset for header
            setTimeout(() => {
                const activeModule = document.querySelector('.module.active');
                if (activeModule) {
                    const headerHeight = document.querySelector('.header').offsetHeight;
                    const modulePosition = activeModule.offsetTop - headerHeight - 20; // 20px extra padding
                    
                    window.scrollTo({
                        top: modulePosition,
                        behavior: 'smooth'
                    });
                }
            }, 400); // Wait for module transition to start
        }

        // Update module button states
        function updateModuleButtons() {
            const buttons = document.querySelectorAll('.module-btn');
            buttons.forEach((btn, index) => {
                const moduleNum = index + 1;
                btn.classList.remove('active', 'completed');
                
                if (moduleNum === currentModule) {
                    btn.classList.add('active');
                } else if (moduleProgress[moduleNum]) {
                    btn.classList.add('completed');
                }
            });
        }

        function updateProgress() {
            const progress = (currentModule / totalModules) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('progressText').textContent = `Module ${currentModule} of ${totalModules}`;
            updateModuleButtons();
        }

        function showModule(moduleNum) {
            // Hide all modules
            for (let i = 1; i <= totalModules; i++) {
                document.getElementById(`module${i}`).classList.remove('active');
            }
            
            // Show current module
            setTimeout(() => {
                document.getElementById(`module${moduleNum}`).classList.add('active');
            }, 300);

            currentModule = moduleNum;
            updateProgress();
            updateNavButtons();
        }

        function nextModule() {
            if (currentModule < totalModules) {
                moduleProgress[currentModule] = true;
                showModule(currentModule + 1);
            } else if (currentModule === totalModules) {
                showCompletionBadge();
            }
        }

        function previousModule() {
            if (currentModule > 1) {
                showModule(currentModule - 1);
            }
        }

        function updateNavButtons() {
            document.getElementById('prevBtn').disabled = currentModule === 1;
            document.getElementById('nextBtn').textContent = currentModule === totalModules ? 'Complete' : 'Next →';
        }

        function showCompletionBadge() {
            document.getElementById('completionBadge').classList.add('show');
            document.getElementById('nextBtn').style.display = 'none';
        }

        function checkAnswer(element, isCorrect) {
            const options = element.parentNode.children;
            const feedbackId = 'feedback' + currentModule;
            const feedback = document.getElementById(feedbackId);
            
            // Disable all options
            for (let option of options) {
                option.style.pointerEvents = 'none';
                if (option === element) {
                    if (isCorrect) {
                        option.classList.add('correct');
                        feedback.textContent = '✅ Correct! Well done.';
                        feedback.className = 'feedback success show';
                    } else {
                        option.classList.add('incorrect');
                        feedback.textContent = '❌ Incorrect. Review the material and try again.';
                        feedback.className = 'feedback error show';
                    }
                }
            }
            
            // Show correct answer if wrong answer was selected
            if (!isCorrect) {
                for (let option of options) {
                    if (option.onclick.toString().includes('true')) {
                        option.classList.add('correct');
                        break;
                    }
                }
            }
        }

        function showCIADetails(type) {
            const details = {
                confidentiality: {
                    title: '🔒 Confidentiality',
                    description: 'Ensures that sensitive information is protected from unauthorized disclosure.',
                    examples: ['Data encryption', 'Access controls', 'Classification systems', 'Need-to-know basis']
                },
                integrity: {
                    title: '✅ Integrity',
                    description: 'Ensures that data and systems remain accurate, complete, and unaltered.',
                    examples: ['Digital signatures', 'Checksums', 'Version control', 'Change management']
                },
                availability: {
                    title: '🔄 Availability',
                    description: 'Ensures that authorized users can access information and systems when needed.',
                    examples: ['Redundant systems', 'Backup procedures', 'Load balancing', 'Disaster recovery']
                }
            };

            const detail = details[type];
            document.getElementById('ciaTitle').textContent = detail.title;
            document.getElementById('ciaDescription').textContent = detail.description;
            
            const examplesList = document.getElementById('ciaExamples');
            examplesList.innerHTML = '';
            detail.examples.forEach(example => {
                const li = document.createElement('li');
                li.textContent = example;
                examplesList.appendChild(li);
            });
            
            document.getElementById('ciaDetails').style.display = 'block';
        }

        function showRiskExample(level) {
            const examples = {
                low: { text: 'Password not meeting complexity requirements', color: '#d4edda' },
                medium: { text: 'Unpatched non-critical software vulnerability', color: '#fff3cd' },
                high: { text: 'Unencrypted sensitive data transmission', color: '#f8d7da' },
                critical: { text: 'Critical system without backup or recovery plan', color: '#f8d7da' }
            };

            const example = examples[level];
            const container = document.getElementById('riskExample');
            container.textContent = `${level.toUpperCase()} Risk Example: ${example.text}`;
            container.style.backgroundColor = example.color;
            container.style.display = 'block';
        }

        function showControlDetails(type) {
            const controls = {
                technical: {
                    title: '💻 Technical Controls',
                    description: 'Security measures implemented through technology and automated systems.',
                    examples: ['Firewalls and network security', 'Encryption systems', 'Antivirus software', 'Intrusion detection systems', 'Access control systems']
                },
                administrative: {
                    title: '📋 Administrative Controls',
                    description: 'Policies, procedures, and guidelines that govern human behavior and organizational processes.',
                    examples: ['Security policies', 'Employee training programs', 'Background checks', 'Incident response procedures', 'Security awareness training']
                },
                physical: {
                    title: '🏢 Physical Controls',
                    description: 'Tangible barriers and mechanisms designed to protect physical assets and facilities.',
                    examples: ['Door locks and access cards', 'Security cameras (CCTV)', 'Security guards', 'Environmental controls', 'Secure disposal procedures']
                }
            };

            const control = controls[type];
            document.getElementById('controlTitle').textContent = control.title;
            document.getElementById('controlDescription').textContent = control.description;
            
            const examplesList = document.getElementById('controlExamples');
            examplesList.innerHTML = '';
            control.examples.forEach(example => {
                const li = document.createElement('li');
                li.textContent = example;
                examplesList.appendChild(li);
            });
            
            document.getElementById('controlDetails').style.display = 'block';
        }

        function showCanonDetails(canonNum) {
            const canons = {
                1: {
                    title: 'Canon 1: Protect Society, the Common Good, Necessary Public Trust and Confidence, and the Infrastructure',
                    description: 'Cybersecurity professionals must prioritize the safety and security of society over personal, professional, or organizational interests. This includes protecting critical infrastructure and maintaining public trust in digital systems.'
                },
                2: {
                    title: 'Canon 2: Act Honorably, Honestly, Justly, Responsibly, and Legally',
                    description: 'Professionals must maintain the highest standards of ethical conduct, be truthful in all professional matters, avoid conflicts of interest, and comply with applicable laws and regulations.'
                },
                3: {
                    title: 'Canon 3: Provide Diligent and Competent Service to Principals',
                    description: 'Professionals must maintain competence in their field, work diligently within their areas of expertise, and provide quality service to employers, clients, and the profession. This includes continuous learning and professional development.'
                },
                4: {
                    title: 'Canon 4: Advance and Protect the Profession',
                    description: 'Professionals must contribute to the advancement of cybersecurity as a profession through mentoring, knowledge sharing, maintaining professional standards, and protecting the reputation of the field.'
                }
            };

            const canon = canons[canonNum];
            document.getElementById('canonTitle').textContent = canon.title;
            document.getElementById('canonDescription').textContent = canon.description;
            document.getElementById('canonDetails').style.display = 'block';
        }

        function showGovernanceLevel(level) {
            const governance = {
                laws: {
                    text: 'Laws & Regulations: Government-imposed rules with legal force (HIPAA, SOX, GDPR). Highest level of authority.',
                    color: '#f8d7da'
                },
                policies: {
                    text: 'Policies: High-level management statements defining organizational intent and direction for security.',
                    color: '#fff3cd'
                },
                standards: {
                    text: 'Standards: Specific mandatory rules and technical requirements that support policies.',
                    color: '#d1ecf1'
                },
                procedures: {
                    text: 'Procedures: Detailed step-by-step instructions for implementing policies and standards.',
                    color: '#d4edda'
                }
            };

            const item = governance[level];
            const container = document.getElementById('governanceDetails');
            container.textContent = item.text;
            container.style.backgroundColor = item.color;
            container.style.display = 'block';
        }

        // Interactive animations
        function addInteractiveEffects() {
            // Add hover effects to modules
            const modules = document.querySelectorAll('.module');
            modules.forEach(module => {
                module.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-5px)';
                    this.style.boxShadow = '0 20px 40px rgba(0, 0, 0, 0.15)';
                });
                
                module.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0)';
                    this.style.boxShadow = '0 10px 30px rgba(0, 0, 0, 0.1)';
                });
            });

            // Add floating animation to completion badge
            const badge = document.getElementById('completionBadge');
            if (badge) {
                setInterval(() => {
                    if (badge.classList.contains('show')) {
                        badge.style.transform = 'translateY(-5px)';
                        setTimeout(() => {
                            badge.style.transform = 'translateY(0)';
                        }, 1000);
                    }
                }, 2000);
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', function(event) {
            if (event.key === 'ArrowRight' && currentModule < totalModules) {
                nextModule();
            } else if (event.key === 'ArrowLeft' && currentModule > 1) {
                previousModule();
            }
        });

        // Initialize the lesson
        document.addEventListener('DOMContentLoaded', function() {
            updateProgress();
            updateNavButtons();
            addInteractiveEffects();
            updateModuleButtons();
            initializeScrollEffects();
            
            // Welcome animation
            setTimeout(() => {
                document.querySelector('.header').style.transform = 'scale(1.02)';
                setTimeout(() => {
                    document.querySelector('.header').style.transform = 'scale(1)';
                }, 200);
            }, 500);
        });

        // Add scroll effects for sticky header
        function initializeScrollEffects() {
            let lastScrollTop = 0;
            const header = document.querySelector('.header');
            
            window.addEventListener('scroll', function() {
                const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                
                if (scrollTop > 100) {
                    header.classList.add('scrolled');
                } else {
                    header.classList.remove('scrolled');
                }
                
                lastScrollTop = scrollTop;
            });
        }

        // Add scroll-to-top functionality
        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Auto-scroll to active module with better positioning
        function autoScrollToModule() {
            const activeModule = document.querySelector('.module.active');
            if (activeModule) {
                const headerHeight = document.querySelector('.header').offsetHeight;
                const modulePosition = activeModule.offsetTop - headerHeight - 20; // Account for fixed header space
                
                window.scrollTo({
                    top: modulePosition,
                    behavior: 'smooth'
                });
            }
        }

        // Update nextModule and previousModule to include auto-scroll
        const originalNextModule = nextModule;
        const originalPreviousModule = previousModule;

        nextModule = function() {
            originalNextModule();
            setTimeout(autoScrollToModule, 400);
        };

        previousModule = function() {
            originalPreviousModule();
            setTimeout(autoScrollToModule, 400);
        };

        // Add progress tracking for quiz completion
        function trackQuizCompletion(moduleNum) {
            moduleProgress[moduleNum] = true;
            updateProgressBar();
            updateModuleButtons();
        }

        function updateProgressBar() {
            const completedModules = Object.values(moduleProgress).filter(Boolean).length;
            const progress = (completedModules / totalModules) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        }

        // Enhanced quiz feedback with explanations
        const quizExplanations = {
            1: {
                correct: 'Correct! Biometric authentication (like fingerprints) represents "something you are" - a unique physical characteristic.',
                incorrect: 'Biometrics represent "something you are". Passwords are "something you know", tokens and cards are "something you have".'
            },
            2: {
                correct: 'Excellent! The four risk treatment strategies are: Accept (acknowledge the risk), Avoid (eliminate the risk), Mitigate (reduce the risk), and Transfer (shift the risk to another party).',
                incorrect: 'The correct answer is Accept, Avoid, Mitigate, Transfer. These are the four fundamental ways organizations can handle identified risks.'
            },
            3: {
                correct: 'Perfect! Access card readers are physical security controls - tangible devices that control physical access to facilities.',
                incorrect: 'Access card readers are physical controls. Encryption and IDS are technical controls, while policies are administrative controls.'
            },
            4: {
                correct: 'Absolutely right! The ISC2 Code of Ethics prioritizes society and public safety above all other considerations, including employer or personal interests.',
                incorrect: 'According to ISC2 Code of Ethics Canon 1, protecting society and public safety comes first, even above employer interests.'
            },
            5: {
                correct: 'Correct! Cybersecurity governance provides strategic oversight, ensures alignment with business objectives, and establishes accountability frameworks.',
                incorrect: 'Governance focuses on oversight and strategic direction. While it enables other activities, its primary purpose is organizational leadership and accountability.'
            }
        };

        // Update checkAnswer function with enhanced explanations
        const originalCheckAnswer = checkAnswer;
        checkAnswer = function(element, isCorrect) {
            const options = element.parentNode.children;
            const feedbackId = 'feedback' + currentModule;
            const feedback = document.getElementById(feedbackId);
            const explanation = quizExplanations[currentModule];
            
            // Disable all options
            for (let option of options) {
                option.style.pointerEvents = 'none';
                if (option === element) {
                    if (isCorrect) {
                        option.classList.add('correct');
                        feedback.textContent = '✅ ' + explanation.correct;
                        feedback.className = 'feedback success show';
                        trackQuizCompletion(currentModule);
                    } else {
                        option.classList.add('incorrect');
                        feedback.textContent = '❌ ' + explanation.incorrect;
                        feedback.className = 'feedback error show';
                    }
                }
            }
            
            // Show correct answer if wrong answer was selected
            if (!isCorrect) {
                for (let option of options) {
                    if (option.onclick.toString().includes('true')) {
                        option.classList.add('correct');
                        break;
                    }
                }
            }
        };

        // Add certificate generation functionality
        function generateCertificate() {
            const completedAll = Object.values(moduleProgress).every(Boolean);
            if (completedAll) {
                const certificate = document.createElement('div');
                certificate.innerHTML = `
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 40px; border-radius: 15px; text-align: center; margin: 20px 0;">
                        <h2>🏆 Certificate of Completion</h2>
                        <p>This certifies that you have successfully completed</p>
                        <h3>ISC2 Domain 1: Security Principles</h3>
                        <p>Interactive Learning Experience</p>
                        <p><strong>Date:</strong> ${new Date().toLocaleDateString()}</p>
                        <p style="margin-top: 20px; font-size: 0.9em; opacity: 0.8;">
                            You are now prepared to advance your cybersecurity knowledge and pursue professional certification.
                        </p>
                    </div>
                `;
                document.getElementById('completionBadge').appendChild(certificate);
            }
        }

        // Update showCompletionBadge to include certificate
        const originalShowCompletionBadge = showCompletionBadge;
        showCompletionBadge = function() {
            originalShowCompletionBadge();
            generateCertificate();
        };

        // Add accessibility features
        document.addEventListener('DOMContentLoaded', function() {
            // Add keyboard navigation hints
            const hint = document.createElement('div');
            hint.innerHTML = `
                <div style="position: fixed; bottom: 20px; right: 20px; background: rgba(0,0,0,0.8); color: white; padding: 10px; border-radius: 10px; font-size: 0.8em; z-index: 1000;">
                    <p>💡 Use arrow keys to navigate</p>
                    <p>← Previous | Next →</p>
                </div>
            `;
            document.body.appendChild(hint);

            // Hide hint after 5 seconds
            setTimeout(() => {
                hint.style.opacity = '0';
                setTimeout(() => hint.remove(), 500);
            }, 5000);
        });
    </script>
</body>
</html>